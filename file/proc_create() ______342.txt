==============Content================
proc_create()가 만드는 스택을 보면,
proc_start, func, proc_end 사이에 ebp가 없거든요.

함수에서 리턴할 때,
스택에서 ebp, return address 순으로 꺼내지 않나요?

저렇게 스택을 만들게 되면,
proc_start()에서 리턴할 때,
func가 ebp가 되고, proc_end가 return address가 되는 것 아닌가요?

어떻게 제대로 동작하는 건지 이해가 안 돼요ㅠㅠ;



==============Comment================
함수에서 리턴을 할 때 꺼낸다는 의미는 잘 모르겠지만 함수 호출 규약에 대해서 알아보시면 좋을 것 같고
스택에 함수 주소를 연달아 넣어 놓은 것은 함수가 끝나고 다음 함수까지 별다른 작업이 필요 없기 때문으로 생각됩니다.

cdecl에서 ebp는 callee-saved인데, 이걸 보통 스택에 백업하잖아요. 그래서, 함수 리턴할 때, ebp를 먼저 꺼내고 return address를 그 다음으로 꺼내는데, 지금 만드는 스택을 보면 return address만 연달아 넣어놓고 ebp는 안넣었잖아요. 그럼 ebp를 꺼낼때 return address를 꺼내게 되는 거니까 오작동하는 것 아닌가 싶어서 질문드린거였어요. 답변 감사드려요!

Aㅏ... 제가 바보 같은 질문을 했네요ㅋㅋ proc_start()로 리턴(=진입)하면서,  스택에 다시 ebp를 넣으니까 상관 없겠군요... 질문 지우려다가 조회수가 좀 있어서... 놔둘게요ㅋㅋ

